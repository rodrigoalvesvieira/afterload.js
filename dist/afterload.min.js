function afterload(a,b,c,d){this.dataSelector=a,this.path=void 0,this.ratiosImages=b,this.basePath=c||"images",this.defaultDir=d||"default";var e=this;return this.getPixelRatio=function(){for(var a,b=Object.keys(e.ratiosImages),c=0;c<b.length;c++){var d=b[c];if(window.devicePixelRatio===parseInt(b[c]))return a=e.ratiosImages[d],this.path=a,e.ratiosImages[d]}return this.defaultDir},this.init=function(){for(var a=document.getElementsByTagName("img"),b=0;b<a.length;b++){var c=a[b];if(null!==c.getAttribute(this.dataSelector)){var d=c.getAttribute(this.dataSelector),f=d.lastIndexOf("/")+1,g=d.substr(f),h="./"+e.basePath+"/"+this.getPixelRatio()+"/"+g;c.setAttribute("src",h)}}},this.init(),this}